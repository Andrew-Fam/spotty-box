function sizeSelectorInit(){$(".size-selector").click(function(){var e=$(this);e.hasClass("checked")||($(".size-selector").removeClass("checked"),$('.size-selector input[type="radio"]').prop("checked",!1),e.addClass("checked"),e.find('input[type="radio"]').prop("checked",!0))})}function mobileInputFocusBugFix(){console.log("fixed"),$("input,select").focus(function(){console.log("what"),$(window).width()<768&&$(".checkout-wizard .controls").addClass("sticky-disabled")}).blur(function(){$(".checkout-wizard .controls").removeClass("sticky-disabled")})}var checkoutControllers=angular.module("checkoutControllers",[]);checkoutControllers.controller("checkoutCtrl",["$scope","$http","$modal",function(e,o,n){sizeSelectorInit(),setTimeout(function(){mobileInputFocusBugFix()},500),$("checkout-form").validate(),e.addingDog=!0,e.months=[{name:"January",code:"Jan"},{name:"February",code:"Feb"},{name:"March",code:"Mar"},{name:"April",code:"Apr"},{name:"May",code:"May"},{name:"June",code:"Jun"},{name:"July",code:"Jul"},{name:"August",code:"Aug"},{name:"September",code:"Sep"},{name:"October",code:"Oct"},{name:"November",code:"Nov"},{name:"December",code:"Dec"}],$(".months").autocomplete({source:e.months}),e.newDog={},e.newOrder={},e.addDogErrorMessage="You forgot some fields :(. We need to know your dog's name, birth month and size to pick the right treats.",e.newOrder.dogs=[],e.plans=[{id:1,label:"Starter",desc:"$19 a month",price:19},{id:2,label:"Regular",desc:"$29 a month",price:29},{id:3,label:"Premium",desc:"$39 a month",price:39}],e.sizes=[{id:1,label:"Small",desc:"up to 10kg"},{id:2,label:"Medium",desc:"11kg to 25kg"},{id:3,label:"Large",desc:"25kg+"}],e.removeDog=function(o){e.newOrder.dogs.indexOf(o)>=0&&e.newOrder.dogs.splice(o,1)},e.startAddingDog=function(){e.addingDog=!0},e.addNewDog=function(){var o=e.newDog;return o.name&&""!=o.name&&o.birthMonth&&""!=o.birthMonth&&o.dogSize?(e.newOrder.dogs.push(e.newDog),e.newDog={},e.addingDog=!1,$("input#_value").val(""),void 0):(e.showError("Oops!",e.addDogErrorMessage),!1)},e.changeDogSize=function(o,n){e.newDog.dogSize=n},e.showError=function(o,r){var t=n.open({templateUrl:"myModalContent.html",controller:ModalInstanceCtrl,resolve:{header:function(){return o},message:function(){return r}}});t.result.then(function(o,n){e.header=o,e.message=n},function(){$log.info("Modal dismissed at: "+new Date)})},e.checkoutValidateStep1=function(){return e.newOrder.dogs.length<=0?(e.showError("Oops!","You forgot to add a dog to your pack!"),!1):($("#checkout-wizard").carousel("next"),void 0)},e.changePlan=function(o,n){e.newOrder.plan=n},e.checkoutValidateStep2=function(){return void 0==e.newOrder.plan?(e.showError("Oops!","You forgot to select a plan for your pups!"),!1):($("#checkout-wizard").carousel("next"),void 0)},e.backToStep1=function(){e.addingDog=!1,$("#checkout-wizard").carousel("prev")},e.subscribe=function(){console.log(e.newOrder),$("#checkout-form").valid()?alert("This is where you do the form submission. All fields information are stored in object $scope.newOrder. Check browser debug log for object properties."):e.showError("Invalid details","Some of the details you entered were invalid. Please check the red fields. (note for dev: fields on the current form are being validated using jquery.validate.js plugin)")}}]);var ModalInstanceCtrl=function(e,o,n,r){e.header=n,e.message=r,e.ok=function(){o.close()},e.cancel=function(){o.dismiss("cancel")}};